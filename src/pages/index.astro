---
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import Container from "@/components/Container.astro";
import Link from "@/components/Link.astro";
import ArrowCard from "@/components/Cards/ArrowCard.astro";
import { PAGES } from "@/constants/pages";

const posts = await getCollection("posts");
---

<Layout title="Welcome to Astro." description="Lorem ipsum">
  <Container>
    <main>
      <h4 class="animate font-semibold text-black dark:text-white flex items-center">
        Hola desde <span class="text-xl mx-1">üá™üá∏</span>, soy Juan <span class="text-xl">üëãüèª</span>
      </h4>
      <div class="flex flex-col gap-16">
        <section>
          <article class="space-y-4">
            <p class="animate">
              I am a minimal, seo friendly, accessible portfolio and blog for
              developers. I am an even more lightweight version of my popular
              theme
              <Link
                href="https://github.com/markhorn-dev/astro-sphere"
                aria-label="Astro Sphere on Github"
                isExternal
              >
                Astro Sphere
              </Link>. I have a lighthouse scores of 100 across the board for
              performance, accesibility, best practices and SEO.
            </p>
            <p class="animate">
              I come packed with full type safety, a sitemap, an rss feed,
              markdown and mdx support (use components in your markdown) through
              astro integrations. I am styled with tailwind and come
              preconfigured with light, dark and system/os theme preferences out
              of the box.
            </p>
            <p class="animate">
              Visit
              <Link
                href="https://github.com/markhorn-dev/astro-nano"
                aria-label="Astro Nano on Github"
                isExternal
              >
                Astro Nano on Github
              </Link>
              to fork the repository, read the docs or one-click deploy on Vercel
              or Netlify.
            </p>
          </article>
        </section>

        <section class="animate space-y-6">
          <div class="flex flex-wrap gap-y-2 items-center justify-between">
            <h5 class="font-semibold text-black dark:text-white">
              Latest posts
            </h5>
            <Link href={PAGES.BLOG}> See all posts </Link>
          </div>
          <ul class="flex flex-col gap-4">
            {
              posts.map((post) => (
                <li>
                  <ArrowCard
                    title={post.data.title}
                    description={post.data.description}
                    href={`${PAGES.BLOG}/${post.slug}`}
                    id={post.id}
                  />
                </li>
              ))
            }
          </ul>
        </section>
      </div>
    </main>
  </Container>
</Layout>
